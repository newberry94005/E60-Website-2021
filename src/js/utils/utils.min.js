const utils={};function csd(objectSortDirection,key){let direction=1;return objectSortDirection&&objectSortDirection[key]&&(direction=parseInt(objectSortDirection[key])),direction}utils.showLoading=(loadingText="Loading...",where="body",skel=null,sectionLoading=null)=>{if(skel){let skelFrame=skel("_"+sectionLoading);$("#"+sectionLoading).hide(),$(where).append(skelFrame)}else{let loadingHTML=templates.loading(loadingText);$(where).append(loadingHTML),$("#loadingContainer").fadeIn()}},utils.stopLoading=(skelToRemove=null,sectionToShow=null)=>{$("#loadingContainer").fadeOut().promise().done((function(){$("#loadingContainer").remove()})),skelToRemove&&$("#_"+skelToRemove).remove(),sectionToShow&&$(sectionToShow).fadeIn()},utils.processURL=()=>{let urlObj={view:"",args:[]},viewArg=window.location.href.split("#")[1],customArgs=window.location.href.split("?");return customArgs.shift(),viewArg&&(urlObj.view=viewArg.split("?")[0]),customArgs&&(urlObj.args=customArgs),urlObj},utils.showSwalInput=(title,html,type,allowOutsideClick=!0,showCancelButton=!1,cancelButtonText="Cancel",showConfirmButton=!0,confirmButtonText="Okay",inputType="text",validationCharacterMin=1,validationCharacterMax=30,validationText="Please enter a valid response.",showCloseButton=!1,confirmButtonColor=config.primaryColor,cancelButtonColor="rgb(158, 158, 158)")=>(utils.stopLoading(),new Promise((resolve,reject)=>{Swal.fire({title:title,html:html,icon:type,allowOutsideClick:allowOutsideClick,showCancelButton:showCancelButton,cancelButtonText:cancelButtonText,showConfirmButton:showConfirmButton,confirmButtonText:confirmButtonText,confirmButtonColor:confirmButtonColor,cancelButtonColor:cancelButtonColor,input:inputType,inputValidator:value=>{if(!value)return validationText;if(validationCharacterMin||validationCharacterMax){if(value.length<validationCharacterMin)return"Please enter at least "+validationCharacterMin+" characters. You entered "+value.length+".";if(value.length>validationCharacterMax)return"Please enter no more than "+validationCharacterMax+" characters. You entered "+value.length+"."}},showCloseButton:showCloseButton,heightAuto:!1}).then(result=>{result.value?resolve(result.value):reject()}).catch(error=>{reject(error)})})),utils.showSwal=(title,html,type,allowOutsideClick=!0,showCancelButton=!1,cancelButtonText="Cancel",showConfirmButton=!0,confirmButtonText="Okay",toast=!1,timer=0,position="center",background="#ffffff",backdrop=!0,showCloseButton=!1,confirmButtonColor=config.primaryColor,cancelButtonColor="rgb(158, 158, 158)")=>new Promise((resolve,reject)=>{Swal.fire({title:title,html:html,icon:type,allowOutsideClick:allowOutsideClick,showCancelButton:showCancelButton,cancelButtonText:cancelButtonText,showConfirmButton:showConfirmButton,confirmButtonText:confirmButtonText,confirmButtonColor:confirmButtonColor,cancelButtonColor:cancelButtonColor,toast:toast,timer:timer,position:position,background:background,backdrop:backdrop,showCloseButton:showCloseButton,heightAuto:!1}).then(result=>{result.value?resolve(result.value):reject(result)}).catch(error=>{reject(error)})}),utils.momentLongDayFormat=timeObj=>{let dayFormat;return moment(timeObj).format("dddd, MMMM Do YYYY")},utils.momentShortDayFormat=timeObj=>{let dayFormat;return moment(timeObj).format("MM/DD/YYYY")},utils.momentVeryShortDayFormat=timeObj=>{let dayFormat;return moment(timeObj).format("ddd h:mm a")},utils.momentDayTimeFormat=timeObj=>{let dayFormat;return moment(timeObj).format("dddd, MMMM Do YYYY, h:mm A")},utils.momentGetTimeFormat=(timeObj=moment().format())=>{var time;return moment(timeObj).format("h:mm:ss A")},utils.momentGetTodayDay=()=>{var newDate,todayDay;return moment().format().toString().split("T").shift().split("-").pop()},utils.momentIsToday=timeObj=>{var time;return moment().isSame(timeObj,"day")},utils.momentIsYesterday=timeObj=>{var yesterdayDate=moment().subtract(1,"days"),time;return moment(yesterdayDate).isSame(timeObj,"day")},utils.momentDayDifference=(time1,time2)=>{let days;return moment(time1).diff(time2,"days")},utils.momentHourDifference=(time1,time2)=>{let days;return moment(time1).diff(time2,"hours")},utils.momentDateTimeFromNow=timeObj=>{let timeFrom;return moment(timeObj).fromNow()},utils.scrollToBottom=(where="html, body")=>{$(where).animate({scrollTop:2e3},600)},utils.scrollTop=()=>{utils.checkForMobile()?$("html, body").animate({scrollTop:0},300):window.scrollTo(0,0)},utils.scrollToItem=(who,useDocumentBody=!1,animationTime=300)=>{if(who){let documentBody=$(window).height();useDocumentBody&&(documentBody=$(document).height()),utils.checkForMobile()?$(who).animate({scrollTop:documentBody-$(window).height()},animationTime):$(who).animate({scrollTop:documentBody-$(window).height()},animationTime,"swing")}},utils.checkForMobile=(threshold=415)=>{let isMo=!1;return $(window).width()<=threshold&&(isMo=!0),isMo},utils.checkForTablet=(threshold=1367)=>{let isMo=!1;return $(window).width()<=threshold&&(isMo=!0),isMo},utils.checkForIOS=()=>{let isIOS=!1;return isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIOS},utils.checkForAndroid=()=>{let isAnd=!1;const ua=navigator.userAgent.toLowerCase();return isAnd=ua.indexOf("android")>-1,window.orientation!==app.previousOrientation&&(app.previousOrientation=window.orientation),isAnd},utils.shuffleArray=array=>{let currentIndex=array.length,temporaryValue,randomIndex;for(;0!==currentIndex;)randomIndex=Math.floor(Math.random()*currentIndex),currentIndex-=1,temporaryValue=array[currentIndex],array[currentIndex]=array[randomIndex],array[randomIndex]=temporaryValue;return array},utils.duplicateSimpleObject=objectToDup=>JSON.parse(JSON.stringify(objectToDup)),utils.duplicateComplexObject=objectToDup=>_.cloneDeep(objectToDup),utils.setPhoneNumberEntry=(who,dot=!1)=>{let lb="(",rb=") ",dash="-";dot?(dot=".",lb="",rb="",dash=""):dot="",$(who).on("keyup",(function(){str=$(this).val().replace(/[^0-9]+?/g,""),7==str.length?str=str.substr(0,3)+dash+dot+str.substr(3,4):10==str.length?str=lb+str.substr(0,3)+rb+dot+str.substr(3,3)+dash+dot+str.substr(6,4):str.length>10&&(str=str.substr(0,10),str=lb+str.substr(0,3)+rb+dot+str.substr(3,3)+dash+dot+str.substr(6,4)),$(this).val(str)}))},utils.capitalizeFirstLetterOfString=stringToCap=>stringToCap.charAt(0).toUpperCase()+stringToCap.slice(1),utils.getRandomNumber=(beginRange=0,endRange=1,round=!1)=>{let rand=beginRange+Math.random()*endRange;return round&&(rand=Math.round(rand)),rand},utils.getImageThumb=image=>{let breakdown=image.split("?")[0].split("%2F"),imageName,finalImageName="thumb_"+breakdown[breakdown.length-1],pieces="",preImage,postImage;for(let i=0;i<breakdown.length-1;i++)0!=i?pieces=pieces+"%2F"+breakdown[i]:0==i&&(pieces+=breakdown[i]);return pieces+"%2F"+finalImageName+"?"+image.split("?")[1]},utils.getFullImage=image=>{let breakdown=image.split("?")[0].split("%2F"),imageName=breakdown[breakdown.length-1],finalImageName=imageName.substring(6,imageName.length),pieces="",preImage,postImage;for(let i=0;i<breakdown.length-1;i++)0!=i?pieces=pieces+"%2F"+breakdown[i]:0==i&&(pieces+=breakdown[i]);return pieces+"%2F"+finalImageName+"?"+image.split("?")[1]},utils.roundToTwo=num=>+(Math.round(num+"e+2")+"e-2"),utils.validateEmail=emailAddress=>{const emailReg=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;let isValid=!1;return emailReg.test(emailAddress)&&(isValid=!0),isValid},utils.sortNumberArray=(array,direction=1)=>(1==direction?array.sort((a,b)=>a-b):array.sort((a,b)=>b-a),array),utils.sortNestedObjectsByKeyCriteria=(objectToSort,criteriaArrayOfStrings,objectSortDirection=null)=>new Promise((resolve,reject)=>{if(criteriaArrayOfStrings.length<=5){let tempArray=[],finalArray=[],cas=criteriaArrayOfStrings,osd=objectSortDirection;$.each(objectToSort,(function(key){let subObject={};cas.forEach(item=>{subObject[item]=objectToSort[key][item]}),subObject.uid=key,tempArray.push(subObject)})),1==cas.length?tempArray.sort(firstBy(cas[0],csd(osd,cas[0]))):2==cas.length?tempArray.sort(firstBy(cas[0],csd(osd,cas[0])).thenBy(cas[1],csd(osd,cas[1]))):3==cas.length?tempArray.sort(firstBy(cas[0],csd(osd,cas[0])).thenBy(cas[1],csd(osd,cas[1])).thenBy(cas[2],csd(osd,cas[2]))):4==cas.length?tempArray.sort(firstBy(cas[0],csd(osd,cas[0])).thenBy(cas[1],csd(osd,cas[1])).thenBy(cas[2],csd(osd,cas[2])).thenBy(cas[3],csd(osd,cas[3]))):5==cas.length&&tempArray.sort(firstBy(cas[0],csd(osd,cas[0])).thenBy(cas[1],csd(osd,cas[1])).thenBy(cas[2],csd(osd,cas[2])).thenBy(cas[3],csd(osd,cas[3])).thenBy(cas[4],csd(osd,cas[4])));for(let i=0;i<tempArray.length;i++)finalArray[i]=tempArray[i].uid;resolve(finalArray)}else reject("Must have 5 or less criteria to sort by")});const firstBy=function(){function identity(v){return v}function ignoreCase(v){return"string"==typeof v?v.toLowerCase():v}function makeCompareFunction(f,opt){if(opt="number"==typeof opt?{direction:opt}:opt||{},"function"!=typeof f){var prop=f;f=function(v1){return v1[prop]?v1[prop]:""}}if(1===f.length){var uf=f,preprocess=opt.ignoreCase?ignoreCase:identity;f=function(v1,v2){return preprocess(uf(v1))<preprocess(uf(v2))?-1:preprocess(uf(v1))>preprocess(uf(v2))?1:0}}return-1===opt.direction?function(v1,v2){return-f(v1,v2)}:f}function tb(func,opt){var x="function"==typeof this&&this,y=makeCompareFunction(func,opt),f=x?function(a,b){return x(a,b)||y(a,b)}:y;return f.thenBy=tb,f}return tb}();utils.setCookie=(key,value,expireMinutes)=>{let dateTime=moment().add(expireMinutes,"m"),formated=moment(dateTime).format("ddd, D MMM YYYY HH:mm:ss UTC");document.cookie=key+"="+value+"; expires="+formated+"; path=/"},utils.readCookie=key=>{for(var nameEQ=key+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(nameEQ))return c.substring(nameEQ.length,c.length)}return null},utils.removeCookie=(key,value)=>{let dateTime=moment().subtract(24,"h"),formated=moment(dateTime).format("ddd, D MMM YYYY HH:mm:ss UTC");document.cookie=`${key}=${value}; expires=${formated}; path=/`},utils.wtipc=textToWrapInPrimaryColor=>{let newItem;return`<span style="color:${config.primaryColor};">${textToWrapInPrimaryColor}</span>`};