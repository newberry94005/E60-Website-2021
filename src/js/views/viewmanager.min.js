const viewManager={};function goToView(){if(viewManager.cleanViews(),viewManager.stopAllVideos(),config.urlQuery=utils.processURL(),viewManager.currentView="home",config.urlQuery.view){let newView=config.urlQuery.view;viewManager.currentURL=utils.processURL(),"home"===newView?(viewManager.currentView="home",viewManager.loadView("#home",home.setHomePage),viewManager.pageViewAnalytics("Home")):"davyRoom"===newView?(viewManager.currentView="davyRoom",viewManager.loadView("#davyRoom",pirateRoom.setPirateRoomPage),viewManager.pageViewAnalytics("DAVY")):"egyptRoom"===newView?(viewManager.currentView="egyptRoom",viewManager.loadView("#egyptRoom",egyptRoom.setEgyptRoomPage),viewManager.pageViewAnalytics("EGYPT")):"ransomRoom"===newView?(viewManager.currentView="ransomRoom",viewManager.loadView("#ransomRoom",ransomRoom.setRansomRoomPage),viewManager.pageViewAnalytics("RANSOM")):"witchRoom"===newView?(viewManager.currentView="witchRoom",viewManager.loadView("#witchRoom",witchRoom.setWitchRoomPage),viewManager.pageViewAnalytics("WITCH")):"afterhoursRoom"===newView?(viewManager.currentView="afterhoursRoom",viewManager.loadView("#afterhoursRoom",afterhoursRoom.setAfterhoursRoomPage),viewManager.pageViewAnalytics("AFTERHOURS")):"rouletteRoom"===newView?(viewManager.currentView="rouletteRoom",viewManager.loadView("#casinoRoom",casinoRoom.setCasinoRoomPage),viewManager.pageViewAnalytics("CASINO")):"faqs"===newView?(viewManager.currentView="faqs",viewManager.loadView("#faqs",faqs.setFaqsPage),viewManager.pageViewAnalytics("FAQ")):"groups"===newView?(viewManager.currentView="groups",viewManager.loadView("#groups",groups.setGroupsPage),viewManager.pageViewAnalytics("GROUPS")):"what"===newView?(viewManager.currentView="what",viewManager.loadView("#what",what.setWhatPage),viewManager.pageViewAnalytics("What Is It")):"how"===newView?(viewManager.currentView="how",viewManager.loadView("#how",how.setHowPage),viewManager.pageViewAnalytics("How It Works")):"giftcards"===newView?(viewManager.currentView="giftcards",viewManager.loadView("#giftcards",giftcards.setGiftCardsPage),viewManager.pageViewAnalytics("Gift Card")):(viewManager.goHome(),viewManager.pageViewAnalytics("Home"))}else viewManager.goHome()}viewManager.currentView=null,viewManager.fadeOutTime=200,viewManager.fadeInTime=200,viewManager.registerView=(view,go=!0,args)=>{"booknow"===config.urlQuery.rootURL||"booknow_voucher"===config.urlQuery.rootURL?(utils.consoleLogger(config.urlQuery.rootURL),window.open("index.html"+view,"_self")):(utils.consoleLogger(utils.momentGetTimeFormat(moment().format())+": Changing View To "+view),history.pushState(args,"",view),go&&(viewManager.stillWaiting=setTimeout((function(){}),1500),viewManager.hideViews()))},viewManager.hideViews=()=>{$("#home, #davyRoom, #egyptRoom, #ransomRoom, #casinoRoom, #witchRoom, #afterhoursRoom, #footer, .reviews, .sanitation, .hours, #faqs, #groups, #what, #how, #giftcards, #bookNow").fadeOut(viewManager.fadeOutTime).promise().done((function(){goToView()}))},viewManager.loadView=(viewToLoad,loadFunction)=>{$("html, body").scrollTop(0),clearTimeout(viewManager.stillWaiting),utils.stopLoading(),$(viewToLoad).delay(viewManager.fadeOutTime).fadeIn(viewManager.fadeInTime).promise().done((function(){clearTimeout(viewManager.stillWaiting),loadFunction(),$("#footer, .reviews, .sanitation, .hours").fadeIn(),utils.stopLoading()}))},viewManager.startHistoryListener=()=>{window.onpopstate=event=>{viewManager.hideViews()}},viewManager.cleanViews=()=>{},viewManager.goHome=()=>{utils.consoleLogger("Couldn't find page, returning home..."),viewManager.currentView="home",viewManager.registerView("#home")},viewManager.stopAllVideos=()=>{$("video").each((function(){this.pause()}))},viewManager.bookNow=referrer=>{utils.showSwal("Select An Option","A group is 9 or more participants.","question",!0,!0,"Book Group (9+)",!0,"Book Now (1-8 players)",!1,null,"center",null,!0,!0,"#3085d6","#64af8d").then(result=>{result&&(viewManager.bookNowAnalytics(referrer),window.open("booknow.html","_self"))}).catch(result=>{"cancel"==result.dismiss&&(viewManager.bookNowAnalytics("GROUP"),window.open("app/groupbooking.html","_self"))})},viewManager.bookNowVoucher=referrer=>{viewManager.bookNowAnalytics(referrer),window.open("booknow_voucher.html","_self")},viewManager.bookNowAnalytics=referrer=>{config.analytics&&gtag("event",referrer+" Book Now Clicked",{event_category:"Book Now",event_label:"Mobile: "+app.isMobile})},viewManager.pageViewAnalytics=eventTitle=>{config.analytics&&gtag("event",eventTitle+" Page Viewed",{event_category:"Page View Change",event_label:"Mobile: "+app.isMobile})};